@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");
@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --font-sans:
    "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}

body {
  font-family: var(--font-sans);
  @apply bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100;
}

.custom-scrollbar::-webkit-scrollbar {
  width: 5px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: #cbd5e1;
  border-radius: 20px;
}

.custom-scrollbar:hover::-webkit-scrollbar-thumb {
  background-color: #94a3b8;
}

@media (prefers-color-scheme: dark) {
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background-color: #475569;
  }

  .custom-scrollbar:hover::-webkit-scrollbar-thumb {
    background-color: #64748b;
  }
}

:is(.dark .custom-scrollbar)::-webkit-scrollbar-thumb {
  background-color: #475569;
}

:is(.dark .custom-scrollbar):hover::-webkit-scrollbar-thumb {
  background-color: #64748b;
}

.card {
  @apply bg-white rounded-xl shadow-sm p-6 mb-6;
}

.layout-sidebar {
  @apply fixed inset-y-0 left-0 -translate-x-full lg:translate-x-0 w-64 flex flex-col z-50 transition-all duration-300 shadow-sm ease-in-out border-r border-slate-100 dark:border-slate-700;
}

.horizontal-menu {
  scrollbar-width: none;
  /* Firefox */
  -ms-overflow-style: none;
  /* IE and Edge */
}

.horizontal-menu::-webkit-scrollbar {
  display: none;
  /* Chrome, Safari, Opera */
}

.horizontal-menu .nav-link {
  @apply flex items-center gap-2 px-4 py-3 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors rounded-xl;
}

.horizontal-menu .nav-submenu {
  @apply absolute top-full left-0 min-w-[200px] bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-xl shadow-lg shadow-slate-200/50 dark:shadow-slate-900/50 p-2 opacity-0 invisible transform translate-y-2 transition-all duration-200 z-50;
}

.horizontal-menu .nav-item:hover .nav-submenu {
  @apply opacity-100 visible translate-y-0;
}

.sidebar-hidden .layout-sidebar {
  @apply translate-x-0 lg:-translate-x-full;
}

.layout-content {
  @apply lg:ml-64 flex flex-col min-h-screen transition-all duration-300 ease-in-out;
}

.sidebar-hidden .layout-content {
  @apply lg:ml-0;
}

.nav {
  @apply space-y-0;
}

.nav-item {
  @apply block whitespace-nowrap;
}

.nav-header {
  @apply px-3.5 py-2.5 text-xs font-bold text-slate-700 dark:text-slate-300 uppercase tracking-wide;
}

.nav-link {
  @apply flex items-center gap-2 px-3.5 py-2.5 text-sm font-normal text-slate-700 dark:text-slate-300 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors cursor-pointer;
}

.nav-link.active {
  @apply bg-transparent font-bold text-indigo-600 dark:text-indigo-400;
}

.nav-sub-link.active {
  @apply text-indigo-600 dark:text-indigo-400;
}

.nav-icon {
  @apply text-lg text-slate-500 dark:text-slate-400 mr-1.5;
}

.nav-link.active .nav-icon {
  @apply text-indigo-600 dark:text-indigo-400;
}

.nav-link:not(.active):hover .nav-icon {
  @apply text-slate-700 dark:text-slate-200;
}

.nav-chevron {
  @apply text-slate-400 dark:text-slate-500 transition-transform duration-200 ml-auto text-sm;
}

.nav-link.active .nav-chevron {
  @apply rotate-90;
  @apply text-indigo-600 dark:text-indigo-400;
}

.nav-submenu {
  @apply grid grid-rows-[0fr] transition-all duration-300 ease-in-out;
}

.nav-submenu.show {
  @apply grid grid-rows-[1fr];
}

.nav-submenu > div {
  @apply overflow-hidden;
}

.nav-sub-link {
  @apply block px-3.5 py-2.5 pl-9 text-sm text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-xl transition-colors;
}

.nav-sub-link:not(.active):hover {
  @apply text-slate-900 dark:text-slate-100;
}

/* Compact Sidebar Styles */
.sidebar-compact {
  width: 80px;
  transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.sidebar-compact:hover {
  width: 260px;
}

/* Shared transition properties for text elements */
.sidebar-compact .nav-link span,
.sidebar-compact .nav-header,
.sidebar-compact .nav-chevron,
.sidebar-compact .logo-text,
.sidebar-compact .sidebar-footer-text,
.sidebar-compact .font-medium,
.sidebar-compact .brand-text {
  opacity: 1;
  max-width: 200px;
  white-space: nowrap;
  overflow: hidden;
  transition:
    max-width 0.3s ease,
    opacity 0.3s ease;
}

/* 1. COLLAPSED STATE (Not Hovered) */
.sidebar-compact:not(:hover) .nav-link span,
.sidebar-compact:not(:hover) .nav-header,
.sidebar-compact:not(:hover) .nav-chevron,
.sidebar-compact:not(:hover) .logo-text,
.sidebar-compact:not(:hover) .sidebar-footer-text,
.sidebar-compact:not(:hover) .font-medium,
.sidebar-compact:not(:hover) .brand-text {
  opacity: 0;
  max-width: 0;
}

/* Strictly hide headers and submenus when collapsed to avoid vertical spacing issues */
.sidebar-compact:not(:hover) .nav-header,
.sidebar-compact:not(:hover) .nav-submenu {
  display: none !important;
}

.sidebar-compact:not(:hover) .brand-container span {
  display: none;
}

/* Icon & Brand Centering when collapsed */
.sidebar-compact:not(:hover) .nav-link,
.sidebar-compact:not(:hover) .sidebar-footer a,
.sidebar-compact:not(:hover) .brand-container {
  justify-content: center;
  padding-left: 0;
  padding-right: 0;
  gap: 0;
  /* IMPERATIVE:Remove gap so icon is strictly centered */
}

/* Fix Icon Margins */
.sidebar-compact:not(:hover) .nav-icon {
  margin-right: 0;
  font-size: 1.5rem;
}

/* Fix Chevron Auto Margin preventing centering */
.sidebar-compact:not(:hover) .nav-chevron {
  margin-left: 0;
}

/* 2. EXPANDED STATE (Hovered) */
.sidebar-compact:hover .nav-header {
  display: block;
  margin-top: 1rem;
}

.sidebar-compact:hover .logo-text {
  display: inline;
}

/* Swiper Custom Styling */
.swiper-theme .swiper-pagination-bullet {
  @apply bg-slate-400 opacity-50;
}

.swiper-theme .swiper-pagination-bullet-active {
  @apply bg-indigo-600 opacity-100 dark:bg-indigo-400;
}

.swiper-theme .swiper-button-next,
.swiper-theme .swiper-button-prev {
  @apply text-indigo-600 bg-white/80 p-4! rounded-full backdrop-blur-sm shadow-sm dark:bg-slate-800/80 dark:text-indigo-400;
}

.swiper-navigation-icon {
  @apply w-6! h-6!;
}

.swiper-theme .swiper-button-next:after,
.swiper-theme .swiper-button-prev:after {
  @apply text-sm font-bold;
}

.swiper-theme .swiper {
  @apply z-0!;
}

/* Toastify Override (Tailwind Way) */
.toastify {
  @apply font-sans! p-4! text-white rounded-xl! shadow-md! bg-slate-800! w-fit! max-w-full lg:max-w-1/2! bg-none!;
}

.toast-success {
  @apply bg-emerald-500! text-white;
}

.toast-error {
  @apply bg-red-500! text-white;
}

.toast-warning {
  @apply bg-amber-500! text-white;
}

.toast-info {
  @apply bg-blue-500! text-white;
}

.toast-dark {
  @apply bg-slate-900! text-white border border-slate-700;
}

.toast-close {
  @apply opacity-50 pl-3 hover:opacity-100 transition-opacity cursor-pointer align-middle text-transparent!;
}

.toast-close::after {
  content: "\00d7";
  /* Elegant multiplication sign */
  @apply text-2xl text-white font-light leading-none;
}

/* Tippy.js Override */
.tippy-box {
  @apply bg-slate-800 text-white text-xs font-medium rounded-lg shadow-lg px-4 py-2;
}

.tippy-arrow {
  @apply bg-slate-800;
}

/* SweetAlert2 Override */
.swal2-container .swal2-popup.swal2-modal {
  @apply rounded-2xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-xl;
}

.swal2-title {
  @apply text-slate-900 dark:text-slate-100 font-bold;
}

.swal2-html-container {
  @apply text-slate-600 dark:text-slate-400;
}

.swal2-confirm {
  @apply rounded-xl shadow-sm hover:shadow-md active:scale-95 transition-all font-semibold;
}

.swal2-cancel {
  @apply rounded-xl shadow-sm hover:shadow-md active:scale-95 transition-all font-semibold;
}

.swal2-deny {
  @apply rounded-xl shadow-sm hover:shadow-md active:scale-95 transition-all font-semibold;
}

.swal2-input,
.swal2-textarea,
.swal2-select {
  @apply rounded-xl border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100;
}

.swal2-input:focus,
.swal2-textarea:focus,
.swal2-select:focus {
  @apply border-indigo-500 ring-2 ring-indigo-500/20;
}

.swal2-validation-message {
  @apply bg-red-50 dark:bg-red-950/30 border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 rounded-xl;
}

.swal2-icon {
  @apply border;
}

.swal2-timer-progress-bar {
  @apply bg-indigo-600;
}

.no-border {
  @apply border-0!;
}

/* Nestable List / Sortable.js Styling */
.nestable-item {
  @apply flex items-center gap-3 p-4 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl cursor-move transition-all duration-200;
}

.nestable-item:hover {
  @apply border-indigo-300 dark:border-indigo-500 shadow-sm;
}

.nestable-item .handle {
  @apply text-slate-400 dark:text-slate-500 text-xl cursor-grab active:cursor-grabbing;
}

.nestable-item .handle:hover {
  @apply text-indigo-600 dark:text-indigo-400;
}

.nested-children {
  @apply ml-8 mt-2 space-y-2;
}

.nestable-item-action {
  @apply flex items-center gap-3 p-4 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl cursor-move transition-all duration-200;
}

.nestable-item-action:hover {
  @apply border-indigo-300 dark:border-indigo-500 shadow-sm;
}

.nestable-item-action .handle {
  @apply text-slate-400 dark:text-slate-500 text-xl cursor-grab active:cursor-grabbing;
}

.nestable-item-action .actions {
  @apply flex items-center gap-2;
}

.action-btn {
  @apply p-2 rounded-lg transition-all duration-200;
}

.action-btn.edit {
  @apply text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/30;
}

.action-btn.delete {
  @apply text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/30;
}

.multi-item {
  @apply p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 rounded-lg cursor-move transition-all duration-200;
}

.multi-item:hover {
  @apply border-indigo-300 dark:border-indigo-500 shadow-sm;
}

/* Sortable.js States */
.sortable-ghost {
  @apply opacity-50 bg-indigo-50 dark:bg-indigo-950/30 border-indigo-300 dark:border-indigo-500;
}

.sortable-chosen {
  @apply shadow-lg scale-105;
}

.sortable-drag {
  @apply opacity-100 shadow-2xl;
}

/* Range Slider Styling */
.range-slider {
  @apply h-2 bg-slate-200 dark:bg-slate-700 rounded-full appearance-none cursor-pointer;
}

.range-slider::-webkit-slider-thumb {
  @apply appearance-none w-5 h-5 rounded-full bg-indigo-600 cursor-pointer shadow-md hover:shadow-lg transition-all;
}

.range-slider::-moz-range-thumb {
  @apply w-5 h-5 rounded-full bg-indigo-600 cursor-pointer border-0 shadow-md hover:shadow-lg transition-all;
}

.range-slider:focus {
  @apply outline-none ring-2 ring-indigo-500/20;
}

/* Color Variants */
.range-slider.range-blue::-webkit-slider-thumb {
  @apply bg-blue-600;
}

.range-slider.range-blue::-moz-range-thumb {
  @apply bg-blue-600;
}

.range-slider.range-emerald::-webkit-slider-thumb {
  @apply bg-emerald-600;
}

.range-slider.range-emerald::-moz-range-thumb {
  @apply bg-emerald-600;
}

.range-slider.range-purple::-webkit-slider-thumb {
  @apply bg-purple-600;
}

.range-slider.range-purple::-moz-range-thumb {
  @apply bg-purple-600;
}

.range-slider.range-red::-webkit-slider-thumb {
  @apply bg-red-600;
}

.range-slider.range-red::-moz-range-thumb {
  @apply bg-red-600;
}

.range-slider.range-amber::-webkit-slider-thumb {
  @apply bg-amber-600;
}

.range-slider.range-amber::-moz-range-thumb {
  @apply bg-amber-600;
}

/* Ribbon Styling */
/* Corner Ribbons */
.ribbon {
  @apply absolute w-32 h-32 overflow-hidden;
}

.ribbon span {
  @apply absolute block w-40 py-2 text-center text-white text-xs font-bold shadow-md;
}

.ribbon-top-left {
  @apply top-0 left-0;
}

.ribbon-top-left span {
  @apply -rotate-45 -left-8 top-6;
}

.ribbon-top-right {
  @apply top-0 right-0;
}

.ribbon-top-right span {
  @apply rotate-45 -right-8 top-6;
}

.ribbon-bottom-left {
  @apply bottom-0 left-0;
}

.ribbon-bottom-left span {
  @apply rotate-45 -left-8 bottom-6;
}

.ribbon-bottom-right {
  @apply bottom-0 right-0;
}

.ribbon-bottom-right span {
  @apply -rotate-45 -right-8 bottom-6;
}

/* Ribbon Colors */
.ribbon-primary span {
  @apply bg-indigo-600;
}

.ribbon-success span {
  @apply bg-emerald-600;
}

.ribbon-warning span {
  @apply bg-amber-600;
}

.ribbon-danger span {
  @apply bg-red-600;
}

/* Bookmark Ribbons */
.ribbon-bookmark {
  @apply absolute top-0 right-4 w-16 h-20 flex items-start justify-center pt-2 text-white text-xs font-bold;
  clip-path: polygon(0 0, 100% 0, 100% 100%, 50% 85%, 0 100%);
}

.ribbon-bookmark-primary {
  @apply bg-indigo-600;
}

.ribbon-bookmark-success {
  @apply bg-emerald-600;
}

.ribbon-bookmark-danger {
  @apply bg-red-600;
}

.ribbon-bookmark-warning {
  @apply bg-amber-600;
}

/* Horizontal Ribbons */
.ribbon-horizontal {
  @apply absolute top-0 left-0 right-0 py-2 text-center text-white text-sm font-bold shadow-md;
}

.ribbon-horizontal-primary {
  @apply bg-indigo-600;
}

.ribbon-horizontal-success {
  @apply bg-emerald-600;
}

.ribbon-horizontal-warning {
  @apply bg-amber-600;
}

.ribbon-horizontal-danger {
  @apply bg-red-600;
}

/* Badge Ribbons */
.ribbon-badge {
  @apply absolute -top-2 -right-2 w-16 h-16 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg;
}

.ribbon-badge-primary {
  @apply bg-indigo-600;
}

.ribbon-badge-success {
  @apply bg-emerald-600;
}

.ribbon-badge-warning {
  @apply bg-amber-600;
}

.ribbon-badge-danger {
  @apply bg-red-600;
}

/* Fancybox Custom Styling */
.fancybox__caption {
  @apply text-slate-100 bg-slate-900/90;
}

.fancybox__caption h4 {
  @apply text-white font-semibold text-lg mb-2;
}

.fancybox__caption p {
  @apply text-slate-300 text-sm;
}

/* Tom Select Styling */
.ts-wrapper .ts-control {
  @apply w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg outline-none text-slate-900 flex items-center transition-all shadow-none;
  padding-left: 1rem !important;
  padding-right: 1rem !important;
  min-height: 46px; /* Ensure consistent height */
}

/* Dark Mode Overrides with !important to beat library specificity */
.dark .ts-wrapper .ts-control {
  @apply bg-slate-700 border-slate-600 text-slate-100;
  background-color: var(--color-slate-700) !important;
  border-color: var(--color-slate-600) !important;
  color: var(--color-slate-100) !important;
}

/* Focus State */
.ts-wrapper.focus .ts-control {
  @apply border-indigo-500 ring-2 ring-indigo-500/20 shadow-none;
  border-color: var(--color-indigo-500) !important;
}

/* Dropdown */
.ts-wrapper .ts-dropdown {
  @apply mt-1 bg-white border border-slate-200 rounded-lg shadow-xl overflow-hidden z-50;
}

.dark .ts-wrapper .ts-dropdown {
  @apply bg-slate-800 border-slate-700 text-slate-100;
  background-color: var(--color-slate-800) !important;
  border-color: var(--color-slate-700) !important;
}

/* Dropdown Options */
.ts-wrapper .ts-dropdown .option {
  @apply px-4 py-2.5 cursor-pointer text-slate-700;
}

.dark .ts-wrapper .ts-dropdown .option {
  @apply text-slate-300;
}

.ts-wrapper .ts-dropdown .option.active,
.ts-wrapper .ts-dropdown .option:hover {
  @apply bg-slate-100 text-slate-900;
}

.dark .ts-wrapper .ts-dropdown .option.active,
.dark .ts-wrapper .ts-dropdown .option:hover {
  @apply bg-slate-700/50 text-slate-100;
}

/* Input text (search) */
.ts-wrapper .ts-control > input {
  @apply text-slate-900;
}
.dark .ts-wrapper .ts-control > input {
  @apply text-slate-100;
  color: white !important; /* Force input text white in dark mode */
}

/* Multi-select items */
.ts-wrapper.multi .ts-control > div.item {
  @apply bg-indigo-50 text-indigo-600 rounded px-2 py-0.5 mr-1 border border-indigo-100;
}

.dark .ts-wrapper.multi .ts-control > div.item {
  @apply bg-indigo-900/30 text-indigo-400 border-indigo-800;
}

/* Single select active item text */
.ts-wrapper.single .ts-control .item {
  @apply text-slate-900;
}
.dark .ts-wrapper.single .ts-control .item {
  @apply text-slate-100;
  color: white !important;
}

.ts-wrapper.plugin-remove_button:not(.rtl) .item .remove {
  @apply border-l border-slate-200 dark:border-slate-700;
}

/* Fix for Group Headers */
.ts-wrapper .ts-dropdown .optgroup-header {
  @apply px-4 py-2 text-xs font-bold text-slate-500 uppercase tracking-wider bg-slate-50;
}
.dark .ts-wrapper .ts-dropdown .optgroup-header {
  @apply text-slate-400 bg-slate-700/50;
}

/* Placeholder */
.ts-wrapper .ts-control .input-placeholder {
  @apply text-slate-400; /* slate-400 */
}

/* Flatpickr Custom Styling (Encore UI Theme) */
.flatpickr-calendar {
  @apply font-sans rounded-2xl border border-slate-200 shadow-xl bg-white text-slate-700;
  width: 320px !important;
}

.flatpickr-calendar:not(.open),
.flatpickr-calendar.noCalendar:not(.open) {
  @apply hidden!;
}

/* Dark Mode Overrides for Flatpickr */
/* Note: We use .dark parent selector because Flatpickr elements rendered in the body 
   don't inherit the dark: utility class logic directly without this scope. */

.dark .flatpickr-calendar,
.flatpickr-calendar.dark {
  @apply bg-slate-800! border-slate-700! text-slate-300! shadow-xl!;
  box-shadow:
    0 20px 25px -5px rgba(0, 0, 0, 0.5),
    0 8px 10px -6px rgba(0, 0, 0, 0.5) !important;
}

.flatpickr-calendar.hasTime .flatpickr-time {
  @apply border-t border-slate-100;
}
.dark .flatpickr-calendar.hasTime .flatpickr-time {
  @apply border-slate-700!;
}

/* Specific styles for Time Picker only (no calendar) */
/* Specific styles for Time Picker only (no calendar) */
.flatpickr-calendar.noCalendar {
  @apply block! w-auto! p-2!;
}

.flatpickr-calendar.noCalendar.hasTime .flatpickr-time {
  @apply border-t-0! h-auto! flex! items-center! justify-center! max-h-none!;
}

.flatpickr-calendar::before,
.flatpickr-calendar::after {
  display: none !important; /* Hide arrows */
}

.flatpickr-months {
  @apply bg-transparent mb-2;
}

.flatpickr-months .flatpickr-month {
  @apply text-slate-800 fill-slate-800 h-10;
}
.dark .flatpickr-months .flatpickr-month {
  @apply text-slate-100! fill-slate-100!;
}

.flatpickr-current-month {
  @apply text-slate-800 font-bold text-lg pt-1;
}
.dark .flatpickr-current-month {
  @apply text-slate-100!;
}

.flatpickr-current-month input.cur-year {
  @apply font-bold text-slate-800;
}
.dark .flatpickr-current-month input.cur-year {
  @apply text-slate-100!;
}

.flatpickr-monthDropdown-months {
  @apply font-bold text-slate-800 bg-transparent hover:bg-slate-50;
}
.dark .flatpickr-monthDropdown-months {
  @apply text-slate-100! hover:bg-slate-700!;
}

.flatpickr-weekdays {
  @apply bg-transparent;
}

span.flatpickr-weekday {
  @apply text-slate-400 font-medium text-xs uppercase tracking-wider bg-transparent;
}
.dark span.flatpickr-weekday {
  @apply text-slate-400!;
}

.flatpickr-day {
  @apply text-slate-700 rounded-lg h-9 w-9 leading-9 m-0.5 ease-out transition-all border-none hover:bg-slate-100;
}
.dark .flatpickr-day {
  @apply text-slate-300! hover:bg-slate-700!;
}

.flatpickr-day.inRange,
.flatpickr-day.prevMonthDay.inRange,
.flatpickr-day.nextMonthDay.inRange,
.flatpickr-day.today.inRange,
.flatpickr-day.prevMonthDay.today.inRange,
.flatpickr-day.nextMonthDay.today.inRange,
.flatpickr-day:hover,
.flatpickr-day.prevMonthDay:hover,
.flatpickr-day.nextMonthDay:hover,
.flatpickr-day:focus,
.flatpickr-day.prevMonthDay:focus,
.flatpickr-day.nextMonthDay:focus {
  @apply bg-slate-100 border-none;
}
.dark .flatpickr-day.inRange,
.dark .flatpickr-day:hover,
.dark .flatpickr-day:focus {
  @apply bg-slate-700! border-transparent!;
  /* Manual box-shadow is still needed for color matching, 
      Tailwind doesn't have a utility for specific shadow colors easily in @apply without config */
  box-shadow:
    -5px 0 0 #334155,
    5px 0 0 #334155 !important;
}

.flatpickr-day.today {
  @apply border border-slate-300 font-bold;
}
.dark .flatpickr-day.today {
  @apply border-slate-600!;
}

.flatpickr-day.selected,
.flatpickr-day.startRange,
.flatpickr-day.endRange,
.flatpickr-day.selected.inRange,
.flatpickr-day.startRange.inRange,
.flatpickr-day.endRange.inRange,
.flatpickr-day.selected:focus,
.flatpickr-day.startRange:focus,
.flatpickr-day.endRange:focus,
.flatpickr-day.selected:hover,
.flatpickr-day.startRange:hover,
.flatpickr-day.endRange:hover,
.flatpickr-day.selected.prevMonthDay,
.flatpickr-day.startRange.prevMonthDay,
.flatpickr-day.endRange.prevMonthDay,
.flatpickr-day.selected.nextMonthDay,
.flatpickr-day.startRange.nextMonthDay,
.flatpickr-day.endRange.nextMonthDay {
  @apply bg-indigo-600 border-indigo-600 text-white shadow-md shadow-indigo-200;
}
.dark .flatpickr-day.selected,
.dark .flatpickr-day.startRange,
.dark .flatpickr-day.endRange {
  @apply bg-indigo-600! border-indigo-600! text-white! shadow-none!;
}

.flatpickr-time input:hover,
.flatpickr-time .flatpickr-am-pm:hover,
.flatpickr-time input:focus,
.flatpickr-time .flatpickr-am-pm:focus {
  @apply bg-slate-50;
}
.dark .flatpickr-time input:hover,
.dark .flatpickr-time .flatpickr-am-pm:hover,
.dark .flatpickr-time input:focus,
.dark .flatpickr-time .flatpickr-am-pm:focus {
  @apply bg-slate-700!;
}

.flatpickr-time .numInputWrapper span.arrowUp:after {
  @apply border-b-slate-400;
}

.flatpickr-time .numInputWrapper span.arrowDown:after {
  @apply border-t-slate-400;
}

.flatpickr-time input,
.flatpickr-time .flatpickr-am-pm {
  @apply text-slate-800 font-medium;
}
.dark .flatpickr-time input,
.dark .flatpickr-time .flatpickr-am-pm {
  @apply text-slate-100!;
}

.dark .flatpickr-prev-month svg,
.dark .flatpickr-next-month svg {
  @apply fill-slate-300!;
}

/* ========================================
   Dropzone.js Custom Styling
   ======================================== */

.dropzone {
  @apply border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-2xl bg-slate-50 dark:bg-slate-700 transition-all duration-300!;
}

.dropzone:hover {
  @apply border-indigo-500 dark:border-indigo-400 bg-indigo-50 dark:bg-indigo-900/30!;
}

.dropzone .dz-message {
  @apply my-12 text-slate-500 dark:text-slate-300!;
}

.dropzone .dz-preview .dz-image {
  @apply rounded-lg!;
}

.dropzone .dz-preview .dz-details {
  @apply rounded-lg!;
  background: rgba(0, 0, 0, 0.5) !important;
}

.dropzone .dz-preview .dz-progress {
  @apply h-2 rounded overflow-hidden!;
}

.dropzone .dz-preview .dz-progress .dz-upload {
  @apply bg-indigo-600!;
}

.dropzone .dz-preview .dz-error-message {
  @apply bg-red-500 rounded-lg text-white!;
}

.dropzone .dz-preview .dz-success-mark,
.dropzone .dz-preview .dz-error-mark {
  @apply rounded-full!;
  background: rgba(255, 255, 255, 0.9) !important;
}

/* ========================================
   Quill.js Dark Mode Styling
   ======================================== */

.dark .ql-toolbar.ql-snow {
  @apply bg-slate-700! border-slate-600!;
}

.dark .ql-container.ql-snow {
  @apply bg-slate-800! border-slate-600!;
}

.dark .ql-editor {
  @apply text-slate-100!;
}

.dark .ql-editor.ql-blank::before {
  @apply text-slate-400!;
}

.dark .ql-snow .ql-stroke {
  @apply stroke-slate-300!;
}

.dark .ql-snow .ql-fill {
  @apply fill-slate-300!;
}

.dark .ql-snow .ql-picker-label {
  @apply text-slate-300!;
}

.dark .ql-snow .ql-picker-options {
  @apply bg-slate-700! border-slate-600!;
}

.dark .ql-snow .ql-picker-item {
  @apply text-slate-300!;
}

.dark .ql-snow .ql-picker-item:hover {
  @apply text-indigo-400!;
}

.dark .ql-snow.ql-toolbar button:hover,
.dark .ql-snow .ql-toolbar button:hover {
  @apply text-indigo-400!;
}

.dark .ql-snow.ql-toolbar button:hover .ql-stroke,
.dark .ql-snow .ql-toolbar button:hover .ql-stroke {
  @apply stroke-indigo-400!;
}

.dark .ql-snow.ql-toolbar button:hover .ql-fill,
.dark .ql-snow .ql-toolbar button:hover .ql-fill {
  @apply fill-indigo-400!;
}

.dark .ql-snow.ql-toolbar button.ql-active,
.dark .ql-snow .ql-toolbar button.ql-active {
  @apply text-indigo-500!;
}

.dark .ql-snow.ql-toolbar button.ql-active .ql-stroke,
.dark .ql-snow .ql-toolbar button.ql-active .ql-stroke {
  @apply stroke-indigo-500!;
}

.dark .ql-snow.ql-toolbar button.ql-active .ql-fill,
.dark .ql-snow .ql-toolbar button.ql-active .ql-fill {
  @apply fill-indigo-500!;
}

/* ========================================
   SimpleMDE Dark Mode Styling
   ======================================== */

.dark .CodeMirror {
  @apply bg-slate-800! border-slate-600! text-slate-100!;
}

.dark .CodeMirror-cursor {
  @apply border-slate-100!;
}

.dark .CodeMirror-gutters {
  @apply bg-slate-700! border-slate-600!;
}

.dark .CodeMirror-linenumber {
  @apply text-slate-400!;
}

.dark .editor-toolbar {
  @apply bg-slate-700! border-slate-600!;
}

.dark .editor-toolbar a {
  @apply text-slate-300!;
}

.dark .editor-toolbar a:hover,
.dark .editor-toolbar a.active {
  @apply bg-slate-600! text-indigo-400! border-slate-500!;
}

.dark .editor-toolbar i.separator {
  @apply border-slate-600!;
}

.dark .editor-preview,
.dark .editor-preview-side {
  @apply bg-slate-800! text-slate-100!;
}

.dark .editor-statusbar {
  @apply bg-slate-700! border-slate-600! text-slate-400!;
}

.dark .CodeMirror-selected {
  background: rgba(99, 102, 241, 0.2) !important;
}

.dark .cm-s-easymde .cm-header {
  @apply text-indigo-400!;
}

.dark .cm-s-easymde .cm-link {
  @apply text-purple-400!;
}

.dark .cm-s-easymde .cm-url {
  @apply text-blue-400!;
}

.dark .cm-s-easymde .cm-quote {
  @apply text-emerald-400!;
}

/* ========================================
   TinyMCE Dark Mode Styling
   ======================================== */

/* Override TinyMCE container */
.dark .tox.tox-tinymce {
  @apply border-slate-600!;
}

.dark .tox:not(.tox-tinymce-inline) .tox-editor-header {
  @apply bg-slate-700! border-slate-600!;
}

.dark .tox-promotion {
  @apply bg-transparent! border-transparent!;
}

.dark .tox .tox-promotion-link {
  @apply text-slate-300! font-medium! bg-indigo-600/50!;
}

.dark .tox .tox-promotion-link:hover {
  @apply text-indigo-400!;
}

.dark .tox .tox-statusbar__branding svg {
  @apply fill-slate-400!;
}

.dark .tox-statusbar__wordcount {
  @apply text-slate-400!;
}

.dark .tox .tox-statusbar__branding a {
  @apply text-slate-300!;
}

.dark .tox .tox-statusbar__branding a:hover {
  @apply text-indigo-400!;
}

/* Menubar & Toolbar */
.dark .tox .tox-menubar,
.dark .tox .tox-toolbar,
.dark .tox .tox-toolbar-overlord,
.dark .tox .tox-toolbar__primary,
.dark .tox .tox-toolbar__overflow {
  @apply bg-slate-700! border-slate-600!;
}

/* Menubar Items */
.dark .tox .tox-mbtn {
  @apply text-slate-300! bg-transparent!;
}

.dark .tox .tox-mbtn:hover {
  @apply bg-slate-600! text-indigo-400!;
}

.dark .tox .tox-mbtn--active {
  @apply bg-slate-600! text-indigo-500!;
}

/* Toolbar Group Backgrounds */
.dark .tox .tox-toolbar__group:not(:last-of-type) {
  @apply border-slate-600!;
}

/* Panel & Sidebar */
.dark .tox .tox-sidebar-wrap,
.dark .tox .tox-sidebar,
.dark .tox .tox-panel {
  @apply bg-slate-800! border-slate-600!;
}

/* More Drawer */
.dark .tox .tox-toolbar__overflow {
  @apply bg-slate-700! border-slate-600!;
}

.dark .tox .tox-toolbar__group {
  @apply border-slate-600!;
}

/* Toolbar Buttons */
.dark .tox .tox-tbtn {
  @apply text-slate-300! bg-transparent!;
}

.dark .tox .tox-tbtn:hover {
  @apply bg-slate-600! text-indigo-400!;
}

.dark .tox .tox-tbtn--enabled,
.dark .tox .tox-tbtn--enabled:hover {
  @apply bg-slate-600! text-indigo-500!;
}

.dark .tox .tox-tbtn svg {
  @apply fill-slate-300!;
}

.dark .tox .tox-tbtn:hover svg {
  @apply fill-indigo-400!;
}

.dark .tox .tox-tbtn--enabled svg {
  @apply fill-indigo-500!;
}

/* Editor Area */
.dark .tox .tox-edit-area__iframe {
  @apply bg-slate-800!;
}

/* Status Bar */
.dark .tox .tox-statusbar {
  @apply bg-slate-700! border-slate-600! text-slate-400!;
}

.dark .tox .tox-statusbar a,
.dark .tox .tox-statusbar__path-item {
  @apply text-slate-400!;
}

.dark .tox .tox-statusbar a:hover,
.dark .tox .tox-statusbar__path-item:hover {
  @apply text-indigo-400!;
}

/* Menus & Dropdowns */
.dark .tox .tox-menu,
.dark .tox .tox-collection,
.dark .tox .tox-swatches-menu {
  @apply bg-slate-700! border-slate-600!;
}

.dark .tox .tox-collection__item,
.dark .tox .tox-menu__item {
  @apply text-slate-300!;
}

.dark .tox .tox-collection__item:hover,
.dark .tox .tox-menu__item:hover {
  @apply bg-slate-600! text-indigo-400!;
}

.dark .tox .tox-collection__item--active,
.dark .tox .tox-menu__item--active {
  @apply bg-slate-600! text-indigo-500!;
}

.dark .tox .tox-collection__item-icon svg,
.dark .tox .tox-menu__item-icon svg {
  @apply fill-slate-400!;
}

/* Dialogs */
.dark .tox .tox-dialog {
  @apply bg-slate-800! border-slate-600!;
}

.dark .tox .tox-dialog__header {
  @apply bg-slate-700! border-slate-600! text-slate-100!;
}

.dark .tox .tox-dialog__title {
  @apply text-slate-100!;
}

.dark .tox .tox-dialog__body {
  @apply text-slate-300!;
}

.dark .tox .tox-dialog__body-nav-item {
  @apply text-slate-300!;
}

.dark .tox .tox-dialog__body-nav-item--active {
  @apply text-indigo-500! border-indigo-500!;
}

.dark .tox .tox-dialog__footer {
  @apply bg-slate-700! border-slate-600!;
}

/* Form Elements */
.dark .tox .tox-textfield,
.dark .tox .tox-textarea,
.dark .tox .tox-listboxfield .tox-listbox--select,
.dark .tox .tox-selectfield select {
  @apply bg-slate-700! border-slate-600! text-slate-100!;
}

.dark .tox .tox-textfield:focus,
.dark .tox .tox-textarea:focus {
  @apply border-indigo-500! bg-slate-700!;
}

.dark .tox .tox-label,
.dark .tox .tox-toolbar-label {
  @apply text-slate-300!;
}

/* Fix for toolbar select dropdowns (Paragraph, etc) */
.dark .tox .tox-tbtn--select,
.dark .tox .tox-tbtn__select-label {
  @apply text-slate-300!;
}

.dark .tox .tox-tbtn--select:hover {
  @apply text-indigo-400!;
}

/* Buttons */
.dark .tox .tox-button {
  @apply bg-slate-600! text-slate-100! border-slate-500!;
}

.dark .tox .tox-button:hover {
  @apply bg-slate-500! text-indigo-400!;
}

.dark .tox .tox-button--secondary {
  @apply bg-indigo-600! text-white! border-indigo-500!;
}

.dark .tox .tox-button--secondary:hover {
  @apply bg-indigo-500!;
}

.dark .tox .tox-button[disabled] {
  @apply bg-slate-700! text-slate-500! border-slate-600!;
}

/* Split Button */
.dark .tox .tox-split-button:hover {
  @apply bg-slate-600!;
}

.dark .tox .tox-tbtn__select-label {
  @apply text-slate-300!;
}

/* Notification */
.dark .tox .tox-notification {
  @apply bg-slate-700! border-slate-600! text-slate-300!;
}

.dark .tox .tox-notification--error {
  @apply bg-red-900/30! border-red-600!;
}

.dark .tox .tox-notification--warning {
  @apply bg-amber-900/30! border-amber-600!;
}

.dark .tox .tox-notification--success {
  @apply bg-emerald-900/30! border-emerald-600!;
}

/* Color Picker */
.dark .tox .tox-swatch {
  @apply border-slate-600!;
}

/* Insert Table Grid */
.dark .tox .tox-insert-table-picker__selected {
  @apply bg-indigo-500/30!;
}

.dark .tox .tox-insert-table-picker__label {
  @apply text-slate-300!;
}

/* Popup & Floating Panels */
.dark .tox .tox-pop {
  @apply bg-slate-700! border-slate-600!;
}

.dark .tox .tox-pop__dialog {
  @apply bg-slate-700!;
}

/* Color Input */
.dark .tox .tox-color-input span {
  @apply border-slate-600!;
}

/* Autocompleter */
.dark .tox .tox-autocompleter {
  @apply bg-slate-700! border-slate-600!;
}

.dark .tox .tox-autocompleter .tox-menu {
  @apply bg-slate-700!;
}

/* Tab Navigation */
.dark .tox .tox-dialog__body-nav-item:not(.tox-dialog__body-nav-item--active) {
  @apply border-transparent!;
}

/* Tooltips */
.dark .tox .tox-tooltip,
.dark .tox .tox-tooltip__body {
  @apply bg-slate-700! text-slate-100! border-slate-600!;
}

.dark .tox .tox-tooltip__arrow {
  border-color: transparent transparent #334155 transparent !important;
}

/* Silver Theme Overrides for Dark Mode */
.dark .tox.tox-silver-sink .tox-pop {
  @apply bg-slate-700! border-slate-600!;
}
